Testing Unicode normalization optimizations...

Input text (with mixed NFC/NFD forms):
café
café
café
café
café
café
café
café
café
café

Pattern: café

Test 1: Basic Unicode matching (NFC normalization)
Found 10 matches in 154 microseconds
  Line 1: offset=0, length=5
  Line 2: offset=6, length=6
  Line 3: offset=13, length=5
  Line 4: offset=19, length=6
  Line 5: offset=26, length=5
  Line 6: offset=32, length=6
  Line 7: offset=39, length=5
  Line 8: offset=45, length=6
  Line 9: offset=52, length=5
  Line 10: offset=58, length=6

Test 2: NFD normalization
Found 10 matches in 6 microseconds
  Line 1: offset=0, length=5
  Line 2: offset=6, length=6
  Line 3: offset=13, length=5
  Line 4: offset=19, length=6
  Line 5: offset=26, length=5
  Line 6: offset=32, length=6
  Line 7: offset=39, length=5
  Line 8: offset=45, length=6
  Line 9: offset=52, length=5
  Line 10: offset=58, length=6

Test 3: Performance test - repeated searches (should benefit from caching)
First run (cache miss): 33 microseconds
Second run (cache hit): 32 microseconds
Speedup: 1.03125x

Test 4: Cache statistics
Text cache size: 0
Offset cache size: 0

Test 5: ASCII optimization test
ASCII pattern found 5 matches in 5 microseconds
ASCII optimization working: YES

Test 6: Cache cleanup
After cleanup - Text cache size: 0
After cleanup - Offset cache size: 0

All optimization tests completed!
