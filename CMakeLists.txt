cmake_minimum_required(VERSION 3.4...3.18)
project(grapapy)
add_subdirectory(pybind11)

if (MSVC)
include_directories(source)
link_directories(source ${CMAKE_SOURCE_DIR}/source/grapa-lib/win)
#link_directories(source source/grapa-lib/win)
pybind11_add_module(grapapy source/mainpy.cpp)
target_link_libraries(grapapy PRIVATE grapa)
endif (MSVC)

if (UNIX)
include_directories(source)
link_directories(source ${CMAKE_SOURCE_DIR}/source/grapa-lib/ubuntu64)
pybind11_add_module(grapapy source/mainpy.cpp)
target_link_libraries(grapapy PRIVATE grapa)
endif (UNIX)

target_compile_definitions(grapapy PRIVATE VERSION_INFO="0.0.1")