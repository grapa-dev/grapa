# Part of $OBJ

## genkeys (bits)

Method | Example | Result
------------ | ------------- | -------------
"rsa" | "rsa".genkeys(2048)| {"method":"RSA","n":133340969878490876761315268119495128494223592724998328527037443092680058163238200550226099759810589020622773180707498143917954376840030816382652791849882910685566880060504667253115225255092587725908463639052005806166349797227866973060510752508533977442800215647215704344710830305717250386898264812566696319357,"e":65537,"d":21462897161118150952211952994378047675138695388193041604463402157326120108701951227616996908101406893488405546230120358273807173372072036895503369107899577024301153717464245508429552994282320868505600503184606269169145300796609156095355884623057408882085310653464552867426166711714262346885341708845892087245,"p":13018924438699683584351960540369401752216593462087352663934874988571387642612039737870891924873164443636284470531329392240434226360455419391927666947798619,"q":10242088008601179955032546512112320803965163751179416704553769484689836112666734931701358640253590592335899278834853169695399444476865991657075568700106503,"dmp1":1548873977273012693702675379301161564643373654941408497805822974592842355454873946567272599268139572562554129983563105898937480551939681477621191375741731,"dmq1":5424929445085566317943219663319269909639481961253812229201443461281997665120471942324934960085492015682073815801673223974798982500350171176466182710328471,"iqmp":10773193752676840425045540382104355834555937318335526551444565657080681982821255440896494264459939256156471093125837581716788587780960159457805940209113560}
"dh" | "dh".genkeys(2048)| {"method":"DH","p":167078505354342589623427531492070898897587317696780796495676967395654292799803550840398173836912469408479735924893415233091677021366974572094690601960343065472632718027733503897827167893707501104206432738261416896424762983822126266525382323422153324376521434066353958039942900708734698139361179368319160431579,"g":2,"pub":14955576220841616887417379990591146892005211708711628337065388059470382074287246234855039345355319994984538334678860682678775812791815222790987279094705284827152039498898778569530087184692169346653614591096732468758433738942280543650288875155511119797833901004686162214179337541808548760952697675904359431835,"prv":80473203669684850361358238923455160620969904261951719764579723274723983598603094098470687597414850420649402185596369251972214494397863209489964591507277182287056638504511782608178939474196777068400324267938853688096295413165184178155627262041570190419735976104264552360432339859596697998475206199750365187654}
"ec" | "ec".genkeys(256)| {"method":"EC","curve":"prime256v1","pub":328583515414440344309737813659797994379375465829367947313294493668935200753665,"prv":79112223757318388912284493496056150146052605496312695677413829416913194654396}
"bc" | "bc".genkeys(256)| {"method":"EC","curve":"prime256v1","pub":328583515414440344309737813659797994379375465829367947313294493668935200753665,"prv":79112223757318388912284493496056150146052605496312695677413829416913194654396}

## encode (method, [,options])

encode/decode types:
Method | Options | Description
------------ | ------------- | -------------
"RSA" | {n,e,d [,p,q,dp,dq,qi]} | Data size must be exactly byte count of d  minus 32.
"AES256" | {key [,iv]} | key is 32 bits and iv is 16 bits
"ZIP-GRAPA" | |
"BASE64" | |
"ESCAPE" | |
"FLOAT" | |
"JSON" | | Only encode.
"XML" | | Only encode.
"SHAKE256" | | Only encode.
"SHAKE128" | | Only encode.
SHA3-256" | | Only encode.
SHA3-384" | | Only encode.
"SHA3-512" | | Only encode.
"PEM" | | Only decode.

Example of RSA using hard coded RSA key.

```
e = 65537;
d = (0xA4954A19EA13D5FF06C86E7719AB6B6D5F37EF2D0A453713F08CD3FF2847C7BE80F2A3D0159C2EA862997DEE93DC08CD18CDFBD96DCC077B978904D05B2FCA5988A63).uraw();
d = (d + (0x2CEB3B7286ACEF97682F418172B30509BD29A1C56E0244D79CFADD5A60C83D2F28A8B72643CB82AABA08871E094B36E6613B108166768B33F5C4860BD21).uraw()).uint();
n = (0xB47D8ABBD7A33B5AD29C8EFD291433D62695BA043F4130F8E677CD179315FD0DD39989539EC710EB3BCBCACBDED2230DE8575FAEE3ED2835B256ADB1AAEF2F34C430E).uraw();
n = (n + (0xAB9934FAF1977FA83E12B947806CE1F8D06692F02068FD18E4DE952895DDD2D9BDEE923E94257E84B63D21C92EC1F74B8AF4AF9A33608C7E8247F1C820F).uraw()).uint();
g = {"method":"RSA","n":n,"e":e, "d":d};
len = g.n.bytes()-42;
v = "this is a test of this is a test of 86 chars to see if we can encode with RSA. It needs to be exact size chars to see if we can encode with RSA. It needs to be exact size...so need to make it so.".left(len);
v.encode(g).decode(g).str();
```

```
v.encode("AES256",{key:"12345678123456781234567812345678",iv:"1234567812345678"}).decode("AES256",{key:"12345678123456781234567812345678",iv:"1234567812345678"}).str();
v.encode("SHA3-256");
v.encode("SHAKE128");
{1,2,3}.encode("ZIP-GRAPA").decode("ZIP-GRAPA");
v.encode("BASE64").decode("BASE64").str();
```

## decode (method [,options])
See encode.

## sign (method, [,options])

```
curve = "prime256v1";
pub = 0x25074E1882EF3F6230925ADFFEA56EC322F7EB4F23C3DECF12BFF5A24E11BA21C;
prv = 0x5A44899AE665F34833146FD9805222B9E7C22B8BE94B7F9C34A54AA9B9D89890;
g = {"method":"EC","curve":curve,"pub":pub,"prv":prv};
"test".sign(g).verify(g,"test");
```

## signadd (method, value, [,options])
Not implemented yet. Used for pairwise eliptic curves where sigatures can be added.

## verify (method, value, [,options])
See sign.

## verifyrecover (method, [,options])
Recovers signed data.

```
a = "RSA".genkeys();
b = "hello".sign(a);
b.verifyrecover(a).str();
```

## secret (method)
Diffie-Hellman key exchange. Node A generates the staring keys and sends "p" and "g" to node B. Node B then generates its keys using "p" and "g" from node A. Both nodes can then generate the shared secret, and they will be equal.  

```
a = "dh".genkeys()
b = "dh".genkeys({p:a.p,g:a.g})
a.secret(b)==b.secret(a)
```

## modinv (m)

```
(3504).modinv(385)
79
```

## modpow (p,m)
```
(4).modpow(13,497)
445
```

## random ()

```
(16).random()
11942
```

## genprime ()

```
(16).genprime()
60913
```

## isprime ()

```
(60913).isprime()
1
```
