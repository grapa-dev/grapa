/* Debug Grapheme Cluster Issues */
/* This test will help us understand what's going wrong with grapheme clusters */

"=== GRAPHEME CLUSTER DEBUG TEST ===\n".echo();

/* Test 6: Complex Unicode Sequences */
"Test 6: Complex Unicode Sequences\n".echo();
input = "ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ«ğŸ‘¶â€ğŸ‘§";
"Input: " + input + "\n".echo();
"Input length: " + input.len().str() + "\n".echo();
result = input.grep("\\X", "oj");
"Result type: " + result.type().str() + "\n".echo();
"Result length: " + result.len().str() + "\n".echo();
"Result: " + result.str() + "\n".echo();
"---\n".echo();

/* Test 7: Mixed Content */
"Test 7: Mixed Content\n".echo();
input = "Hello ğŸ‘‹ world ğŸŒ with cafÃ© and maÃ±ana";
"Input: " + input + "\n".echo();
"Input length: " + input.len().str() + "\n".echo();
result = input.grep("\\X", "oj");
"Result type: " + result.type().str() + "\n".echo();
"Result length: " + result.len().str() + "\n".echo();
"Result: " + result.str() + "\n".echo();
"---\n".echo();

/* Test 9: Unicode Scripts with Grapheme Clusters */
"Test 9: Unicode Scripts with Grapheme Clusters\n".echo();
input = "Hello ä¸–ç•Œ ğŸ‘‹ ä¸–ç•Œ";
"Input: " + input + "\n".echo();
"Input length: " + input.len().str() + "\n".echo();
result = input.grep("\\X", "oj");
"Result type: " + result.type().str() + "\n".echo();
"Result length: " + result.len().str() + "\n".echo();
"Result: " + result.str() + "\n".echo();
"---\n".echo();

/* Test 10: Edge Cases */
"Test 10: Edge Cases\n".echo();
input = "a\u0301b\u0302c\u0303"; /* Combining marks */
"Input: " + input + "\n".echo();
"Input length: " + input.len().str() + "\n".echo();
result = input.grep("\\X", "oj");
"Result type: " + result.type().str() + "\n".echo();
"Result length: " + result.len().str() + "\n".echo();
"Result: " + result.str() + "\n".echo();
"---\n".echo();

"=== DEBUG TEST COMPLETED ===\n".echo(); 