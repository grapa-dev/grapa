/* Comprehensive ripgrep compatibility test for grapa grep
   This file checks advanced features: column (-T), word boundary (-w), null-data (-z), color (-L), and context separator lines
*/

"=== RIPGREP PARITY TESTS ===\n".echo();

/* 1. Column output (-T) */
"Test 1: Column output (-T)\n".echo();
input = "foo bar\nbaz foo\nbarfoo\nfoo\n";
result = input.grep("foo", "T");
("Result: " + result.str() + "\n").echo();
"---\n".echo();

/* 2. Word boundary (-w) */
"Test 2: Word boundary (-w)\n".echo();
input = "foo bar\nbaz foo\nbarfoo\nfoo\n";
result = input.grep("foo", "w");
("Result: " + result.str() + "\n").echo();
"---\n".echo();

/* 3. Null-data mode (-z) */
"Test 3: Null-data mode (-z)\n".echo();
input = "foo\0bar\0bazfoo\0foo\0";
result = input.grep("foo", "z");
("Result: " + result.str() + "\n").echo();
"---\n".echo();

/* 4. Color output (-L) */
"Test 4: Color output (-L)\n".echo();
input = "foo bar\nbaz foo\nbarfoo\nfoo\n";
result = input.grep("foo", "L");
("Result: " + result.str() + "\n").echo();
"---\n".echo();

/* 5. Context separator lines (--) */
"Test 5: Context separator lines (A2B2)\n".echo();
input = "a\nb\nc\nd\ne\nf\ng\n";
result = input.grep("d", "A2B2");
("Result: " + result.str() + "\n").echo();
"---\n".echo();

"=== END OF RIPGREP PARITY TESTS ===\n".echo(); 