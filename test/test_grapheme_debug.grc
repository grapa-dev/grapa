/* Debug test for grapheme cluster matching */

"=== GRAPHEME CLUSTER DEBUG TEST ===\n".echo();

input = "e\u0301\nðŸ˜€\u2764\ufe0f";

/* Test 1: Basic grapheme cluster match */
"Test 1: Basic grapheme cluster match\n".echo();
result1 = input.grep("\\X", "o");
i = 0;
while (i < result1.len()) {
    cluster = result1[i];
    hex = "";
    j = 0;
    while (j < cluster.len()) {
        code = cluster[j].ord();
        hex = hex + code.hex(2) + " ";
        j = j + 1;
    }
    ("Cluster: '" + cluster + "' Hex: " + hex + "\n").echo();
    i = i + 1;
}
("Result: " + result1.str() + "\n").echo();
"---\n".echo();

/* Test 2: Single character match for comparison */
"Test 2: Single character match for comparison\n".echo();
result2 = input.grep(".", "o");
("Result: " + result2.str() + "\n").echo();
"---\n".echo();

/* Test 3: Unicode character match */
"Test 3: Unicode character match\n".echo();
result3 = input.grep("\u00e9", "o");
("Result: " + result3.str() + "\n").echo();
"---\n".echo();

"=== DEBUG TEST COMPLETE ===\n".echo(); 