/* Simple Context Merging Test */

"=== SIMPLE CONTEXT MERGING TEST ===\n".echo();

/* Test with simple overlapping context */
input = "a\nb\nc\nd\ne\nf";
("Input: " + input + "\n").echo();
("Pattern: c|d, Options: A1B1\n").echo();
result = input.grep("c|d", "A1B1");
("Result: " + result.str() + "\n").echo();
("Expected: Should show b,c,d,e (merged context)\n").echo();
"---\n".echo();

/* Test with gaps that should show separators */
input2 = "a\nb\nc\nd\ne\nf\ng\nh\ni\nj";
("Input: " + input2 + "\n").echo();
("Pattern: c|i, Options: A1B1\n").echo();
result2 = input2.grep("c|i", "A1B1");
("Result: " + result2.str() + "\n").echo();
("Expected: Should show b,c,d and h,i,j with -- separator\n").echo();
"---\n".echo();

"=== TEST COMPLETE ===\n".echo(); 