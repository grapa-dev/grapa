
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Basic Grapa Syntax Guide - Grapa Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#basic-grapa-syntax-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Grapa Documentation" class="md-header__button md-logo" aria-label="Grapa Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Grapa Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Basic Grapa Syntax Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../GETTING_STARTED/" class="md-tabs__link">
        
  
  
    
  
  Getting Started

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../CLI_QUICKSTART/" class="md-tabs__link">
        
  
  
    
  
  CLI Quickstart

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../PYTHON_INTEGRATION/" class="md-tabs__link">
        
  
  
    
  
  Python Integration

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../API_REFERENCE/" class="md-tabs__link">
        
  
  
    
  
  API Reference

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../grep/" class="md-tabs__link">
        
  
  
    
  
  Grep Documentation

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../migrations/PYTHON_TO_GRAPA_MIGRATION/" class="md-tabs__link">
          
  
  
  Migration Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../USE_CASES/" class="md-tabs__link">
        
  
  
    
  
  Use Cases

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../EXAMPLES/" class="md-tabs__link">
        
  
  
    
  
  Examples

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../TROUBLESHOOTING/" class="md-tabs__link">
        
  
  
    
  
  Troubleshooting

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://github.com/grapa-dev/grapa/blob/main/CONTRIBUTING.md" class="md-tabs__link">
        
  
  
    
  
  Contributing

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Grapa Documentation" class="md-nav__button md-logo" aria-label="Grapa Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Grapa Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GETTING_STARTED/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CLI_QUICKSTART/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI Quickstart
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PYTHON_INTEGRATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Integration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../API_REFERENCE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../grep/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grep Documentation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Migration Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Migration Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/PYTHON_TO_GRAPA_MIGRATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/JS_TO_GRAPA_MIGRATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JavaScript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/RUST_TO_GRAPA_MIGRATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rust
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/TYPESCRIPT_TO_GRAPA_MIGRATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TypeScript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/GO_TO_GRAPA_MIGRATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Go
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/RUBY_TO_GRAPA_MIGRATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ruby
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/KOTLIN_TO_GRAPA_MIGRATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kotlin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../migrations/SWIFT_TO_GRAPA_MIGRATION/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Swift
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../USE_CASES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use Cases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../EXAMPLES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TROUBLESHOOTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/grapa-dev/grapa/blob/main/CONTRIBUTING.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#output-and-echo" class="md-nav__link">
    <span class="md-ellipsis">
      Output and Echo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Output and Echo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#correct-echo-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Correct Echo Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-concatenation" class="md-nav__link">
    <span class="md-ellipsis">
      String Concatenation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#loops" class="md-nav__link">
    <span class="md-ellipsis">
      Loops
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#while-loops" class="md-nav__link">
    <span class="md-ellipsis">
      While Loops
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loop-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Loop Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-generation-with-range" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence Generation with .range()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functional-programming-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Programming Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functional Programming Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#map-transform-elements" class="md-nav__link">
    <span class="md-ellipsis">
      .map() - Transform Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter-select-elements" class="md-nav__link">
    <span class="md-ellipsis">
      .filter() - Select Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduce-accumulate-values" class="md-nav__link">
    <span class="md-ellipsis">
      .reduce() - Accumulate Values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      Method Chaining
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parallel-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Parallel Processing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-types-and-access-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Data Types and Access Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Types and Access Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#array-type-array" class="md-nav__link">
    <span class="md-ellipsis">
      Array Type ($ARRAY)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-type-list" class="md-nav__link">
    <span class="md-ellipsis">
      List Type ($LIST)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-type-obj" class="md-nav__link">
    <span class="md-ellipsis">
      Object Type ($OBJ)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-comparison-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Type Comparison Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variable-assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Variable Assignment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Variable Assignment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Assignment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#namespace-system" class="md-nav__link">
    <span class="md-ellipsis">
      Namespace System
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Namespace System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#global-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      Global Namespace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      Local Namespace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#namespace-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      Namespace Hierarchy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-namespace-creation" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Namespace Creation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#const-protection" class="md-nav__link">
    <span class="md-ellipsis">
      Const Protection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-system" class="md-nav__link">
    <span class="md-ellipsis">
      Class System
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Class System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-class-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Class Definition
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polymorphism" class="md-nav__link">
    <span class="md-ellipsis">
      Polymorphism
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance-and-composition" class="md-nav__link">
    <span class="md-ellipsis">
      Inheritance and Composition
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inheritance and Composition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-operations" class="md-nav__link">
    <span class="md-ellipsis">
      String Operations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="String Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#string-methods" class="md-nav__link">
    <span class="md-ellipsis">
      String Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-concatenation_1" class="md-nav__link">
    <span class="md-ellipsis">
      String Concatenation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-literals" class="md-nav__link">
    <span class="md-ellipsis">
      String Literals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array-and-object-access" class="md-nav__link">
    <span class="md-ellipsis">
      Array and Object Access
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Array and Object Access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#array-access" class="md-nav__link">
    <span class="md-ellipsis">
      Array Access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-concatenation" class="md-nav__link">
    <span class="md-ellipsis">
      Array Concatenation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-slicing-with-range" class="md-nav__link">
    <span class="md-ellipsis">
      Array Slicing with .range()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Array Methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#listobject-access" class="md-nav__link">
    <span class="md-ellipsis">
      List/Object Access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-and-table-access" class="md-nav__link">
    <span class="md-ellipsis">
      $file and $TABLE Access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-system-philosophy" class="md-nav__link">
    <span class="md-ellipsis">
      Type System Philosophy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-type-system-benefits" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Type System Benefits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-safety-through-runtime-checking" class="md-nav__link">
    <span class="md-ellipsis">
      Type Safety Through Runtime Checking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-conversion" class="md-nav__link">
    <span class="md-ellipsis">
      Type Conversion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-calls" class="md-nav__link">
    <span class="md-ellipsis">
      Function Calls
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Function Calls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-calls" class="md-nav__link">
    <span class="md-ellipsis">
      Method Calls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-definitions-with-default-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Function Definitions with Default Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-functions" class="md-nav__link">
    <span class="md-ellipsis">
      System Functions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comments" class="md-nav__link">
    <span class="md-ellipsis">
      Comments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comment-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Comment Rules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comment Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#outside-code-blocks" class="md-nav__link">
    <span class="md-ellipsis">
      Outside Code Blocks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inside-code-blocks" class="md-nav__link">
    <span class="md-ellipsis">
      Inside Code Blocks ({})
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#class-and-function-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Class and Function Definitions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control-structures" class="md-nav__link">
    <span class="md-ellipsis">
      Control Structures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Control Structures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-statements" class="md-nav__link">
    <span class="md-ellipsis">
      If Statements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparison-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#switch-statements" class="md-nav__link">
    <span class="md-ellipsis">
      Switch Statements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Switch Statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-switching" class="md-nav__link">
    <span class="md-ellipsis">
      Type Switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#value-switching" class="md-nav__link">
    <span class="md-ellipsis">
      Value Switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boolean-switching" class="md-nav__link">
    <span class="md-ellipsis">
      Boolean Switching
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#switch-with-complex-conditions" class="md-nav__link">
    <span class="md-ellipsis">
      Switch with Complex Conditions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unsupported-syntax-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Unsupported Syntax Operators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Unsupported Syntax Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logical-assignment-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Logical Assignment Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nullish-coalescing" class="md-nav__link">
    <span class="md-ellipsis">
      Nullish Coalescing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-chaining" class="md-nav__link">
    <span class="md-ellipsis">
      Optional Chaining
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spread-operator" class="md-nav__link">
    <span class="md-ellipsis">
      Spread Operator
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#walrus-operator-python" class="md-nav__link">
    <span class="md-ellipsis">
      Walrus Operator (Python)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-checking" class="md-nav__link">
    <span class="md-ellipsis">
      Type Checking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-fallback-with-iferr" class="md-nav__link">
    <span class="md-ellipsis">
      Error Fallback with .iferr()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-example" class="md-nav__link">
    <span class="md-ellipsis">
      Complete Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Common Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#file-operations" class="md-nav__link">
    <span class="md-ellipsis">
      File Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Table Operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
        <span class="md-tag">highlevel</span>
      
    
      
      
      
        <span class="md-tag">user</span>
      
    
  </nav>



<h1 id="basic-grapa-syntax-guide">Basic Grapa Syntax Guide</h1>
<blockquote>
<p><strong>Canonical Reference:</strong>
This file is the canonical, empirically tested reference for Grapa syntax and access patterns. All code in documentation and tests must comply with these rules. If you discover any new rules or exceptions, update this file immediately.</p>
<p><strong>Important: Access Patterns for Data Types (Tested, v0.0.39)</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th style="text-align: center;">.get("key")</th>
<th style="text-align: center;">.get(index)</th>
<th style="text-align: center;">Bracket Notation</th>
<th style="text-align: center;">Dot Notation</th>
<th style="text-align: center;">.len()</th>
<th style="text-align: center;">.size()</th>
</tr>
</thead>
<tbody>
<tr>
<td>$ARRAY</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">—</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>$LIST</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>$OBJ</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>$file</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">—</td>
<td style="text-align: center;">—</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>$TABLE</td>
<td style="text-align: center;">✅*</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">—</td>
<td style="text-align: center;">—</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<p>*$TABLE .get() requires two arguments: key and field.</p>
<p><strong>Key Findings:</strong>
- <strong>Arrays (<code>[]</code>)</strong>: Use <code>array[index]</code> and <code>array.len()</code> for access and length
- <strong>Lists (<code>{}</code>)</strong>: Use <code>list[key]</code> or <code>list.key</code> for access, <code>list.len()</code> for length
- <strong>Objects (class)</strong>: Use <code>object.property</code> or <code>object[key]</code> for access
- <strong><code>.get()</code> method</strong>: Only works on <code>$file</code> and <code>$TABLE</code> types
- <strong><code>.size()</code> method</strong>: Not supported on any type (use <code>.len()</code> instead)
- <strong><code>.keys()</code> method</strong>: Not supported on <code>$LIST</code> (use iteration instead)</p>
<p><strong>Recommended Patterns:</strong>
- For arrays: <code>array[index]</code> and <code>array.len()</code>
- For lists: <code>list[key]</code> (preferred) or <code>list.key</code>, and <code>list.len()</code>
- For objects: <code>object.property</code> (preferred) or <code>object[key]</code>
- Avoid <code>.get()</code>, <code>.size()</code>, and <code>.keys()</code> on arrays, lists, and objects</p>
<p><strong>Clarification on .get() Usage:</strong>
- <code>.get()</code> is <strong>required</strong> for <code>$file</code> and <code>$TABLE</code> access.
- <code>.get()</code> is <strong>not supported</strong> for <code>$ARRAY</code>, <code>$LIST</code>, or <code>$OBJ</code> (returns empty string).
- Use bracket and dot notation for <code>$ARRAY</code>, <code>$LIST</code>, and <code>$OBJ</code>.
- <strong>Length</strong>: Use <code>.len()</code> for arrays and lists, not <code>.size()</code>.
- <strong>Keys</strong>: For lists, iterate manually instead of using <code>.keys()</code>.
- If more objects support <code>.get()</code> in the future, this guide will be updated.</p>
</blockquote>
<hr />
<p>This guide covers the essential syntax patterns for writing Grapa code, based on working examples and best practices.</p>
<p><strong>See also:</strong> <a href="../precedence/">Operator Precedence Table</a></p>
<h2 id="output-and-echo">Output and Echo</h2>
<h3 id="correct-echo-syntax">Correct Echo Syntax</h3>
<p>Use the <code>.echo()</code> method on strings, not function calls:</p>
<div class="highlight"><pre><span></span><code>/* ✅ Correct */
&quot;Hello World&quot;.echo();
(&quot;Result: &quot; + value.str()).echo();

/* ❌ Incorrect */
echo(&quot;Hello World&quot;);
echo(&quot;Result: &quot; + value);
</code></pre></div>
<h3 id="string-concatenation">String Concatenation</h3>
<p>Always wrap string concatenation expressions in parentheses:</p>
<div class="highlight"><pre><span></span><code>/* ✅ Correct */
(&quot;Name: &quot; + name.str() + &quot;, Age: &quot; + age.str()).echo();
(&quot;File size: &quot; + size + &quot; bytes&quot;).echo();

/* ❌ Incorrect */
&quot;Name: &quot; + name.str() + &quot;, Age: &quot; + age.str().echo();
&quot;File size: &quot; + size + &quot; bytes&quot;.echo();
</code></pre></div>
<h2 id="loops">Loops</h2>
<h3 id="while-loops">While Loops</h3>
<p>Use <code>while</code> loops with explicit increment:</p>
<div class="highlight"><pre><span></span><code>/* ✅ Correct */
i = 1;
while (i &lt;= 10) {
    (&quot;Processing item &quot; + i.str()).echo();
    i = i + 1;
}

/* ❌ Incorrect */
for i in 1..10 {
    echo(&quot;Processing item &quot; + i);
}
</code></pre></div>
<ul>
<li>Only <code>while</code> loops and <code>.range()</code>+functional methods are valid for iteration in Grapa.</li>
<li><code>for</code> loops are not supported.</li>
<li>If more objects support <code>.get()</code> in the future, this guide will be updated.</li>
</ul>
<h3 id="loop-examples">Loop Examples</h3>
<div class="highlight"><pre><span></span><code>/* Count from 1 to 5 */
i = 1;
while (i &lt;= 5) {
    (&quot;Count: &quot; + i.str()).echo();
    i = i + 1;
}

/* Process array elements */
i = 0;
while (i &lt; array.len()) {
    element = array[i];  /* Use bracket notation for arrays */
    (&quot;Element &quot; + i.str() + &quot;: &quot; + element.str()).echo();
    i = i + 1;
}
</code></pre></div>
<h3 id="sequence-generation-with-range">Sequence Generation with .range()</h3>
<p>Use <code>.range()</code> to generate sequences of numbers:</p>
<div class="highlight"><pre><span></span><code>/* Generate sequence 0 to 9 */
seq = (10).range(0,1);  /* [0,1,2,3,4,5,6,7,8,9] */

/* Generate sequence with custom start and step */
seq = (10).range(1,2);  /* [1,3,5,7,9] */

/* Use .range() with functional methods for iteration */
sum = (10).range(0,1).reduce(op(acc, x) { acc += x; }, 0);  /* Sum 0-9 */

/* Parallel processing with thread count */
squares = (1000000).range(0,1).map(op(x) { x * x; }, 8);  /* Limit to 8 threads */
</code></pre></div>
<ul>
<li>Use <code>.range()</code> instead of manual while loops for sequence generation</li>
<li>Combine with <code>.map()</code>, <code>.filter()</code>, <code>.reduce()</code> for functional iteration</li>
<li>Specify thread count for large arrays to avoid too many threads</li>
</ul>
<h2 id="functional-programming-methods">Functional Programming Methods</h2>
<p>Grapa provides powerful functional programming methods for array and list processing:</p>
<h3 id="map-transform-elements">.map() - Transform Elements</h3>
<div class="highlight"><pre><span></span><code>/* Transform each element */
numbers = [1, 2, 3, 4, 5];
doubled = numbers.map(op(x) { x * 2; });  /* [2, 4, 6, 8, 10] */

/* Transform with string operations */
names = [&quot;john&quot;, &quot;jane&quot;, &quot;bob&quot;];
uppercase = names.map(op(name) { name.upper(); });  /* [&quot;JOHN&quot;, &quot;JANE&quot;, &quot;BOB&quot;] */

/* Parallel processing with thread count */
large_data = (1000000).range(0,1);
squares = large_data.map(op(x) { x * x; }, 8);  /* Limit to 8 threads */
</code></pre></div>
<h3 id="filter-select-elements">.filter() - Select Elements</h3>
<div class="highlight"><pre><span></span><code>/* Filter even numbers */
numbers = [1, 2, 3, 4, 5, 6];
evens = numbers.filter(op(x) { x % 2 == 0; });  /* [2, 4, 6] */

/* Filter non-empty strings */
lines = [&quot;hello&quot;, &quot;&quot;, &quot;world&quot;, &quot;&quot;, &quot;test&quot;];
non_empty = lines.filter(op(line) { line.len() &gt; 0; });  /* [&quot;hello&quot;, &quot;world&quot;, &quot;test&quot;] */

/* Parallel filtering */
large_data = (1000000).range(0,1);
filtered = large_data.filter(op(x) { x % 2 == 0; }, 8);  /* Limit to 8 threads */
</code></pre></div>
<h3 id="reduce-accumulate-values">.reduce() - Accumulate Values</h3>
<div class="highlight"><pre><span></span><code>/* Sum all numbers */
numbers = [1, 2, 3, 4, 5];
sum = numbers.reduce(op(acc, x) { acc + x; }, 0);  /* 15 */

/* Build a string */
words = [&quot;hello&quot;, &quot;world&quot;, &quot;test&quot;];
sentence = words.reduce(op(acc, word) { acc + &quot; &quot; + word; }, &quot;&quot;);  /* &quot; hello world test&quot; */

/* Collect even numbers */
numbers = [1, 2, 3, 4, 5, 6];
evens = numbers.reduce(op(acc, x) {
    if (x % 2 == 0) { acc += x; };
    acc;
}, []);  /* [2, 4, 6] */
</code></pre></div>
<h3 id="method-chaining">Method Chaining</h3>
<p>Combine multiple functional methods:</p>
<div class="highlight"><pre><span></span><code>/* Filter, transform, then sum */
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
result = numbers
    .filter(op(x) { x % 2 == 0; })      /* [2, 4, 6, 8, 10] */
    .map(op(x) { x * x; })              /* [4, 16, 36, 64, 100] */
    .reduce(op(acc, x) { acc + x; }, 0); /* 220 */

/* Process with .range() */
result = (10).range(0,1)
    .filter(op(x) { x % 2 == 0; })      /* [0, 2, 4, 6, 8] */
    .map(op(x) { x * x; })              /* [0, 4, 16, 36, 64] */
    .reduce(op(acc, x) { acc + x; }, 0); /* 120 */
</code></pre></div>
<h3 id="parallel-processing">Parallel Processing</h3>
<p>Functional methods support parallel processing for large datasets:</p>
<div class="highlight"><pre><span></span><code>/* Large dataset processing */
data = (1000000).range(0,1);

/* Parallel map with 8 threads */
squares = data.map(op(x) { x * x; }, 8);

/* Parallel filter with 8 threads */
evens = data.filter(op(x) { x % 2 == 0; }, 8);

/* Parallel reduce with 4 threads */
sum = data.reduce(op(acc, x) { acc + x; }, 0, 4);
</code></pre></div>
<p><strong>Important Notes:</strong>
- <code>.map()</code> and <code>.filter()</code> are parallel by default for large arrays
- Always specify thread count for very large datasets to avoid too many threads
- <code>.reduce()</code> can be parallel but requires careful consideration of the operation
- Method chaining is efficient and readable</p>
<h2 id="data-types-and-access-patterns">Data Types and Access Patterns</h2>
<h3 id="array-type-array">Array Type (<code>$ARRAY</code>)</h3>
<p>Arrays are created with square brackets and support index-based access:</p>
<div class="highlight"><pre><span></span><code>/* Create arrays */
numbers = [1, 2, 3, 4, 5];
names = [&quot;Alice&quot;, &quot;Bob&quot;, &quot;Charlie&quot;];
mixed = [1, &quot;text&quot;, true, 3.14];

/* Access elements */
first = numbers[0];      /* 1 */
second = names[1];       /* &quot;Bob&quot; */
length = numbers.len();  /* 5 */

/* Iterate over arrays */
i = 0;
while (i &lt; numbers.len()) {
    (&quot;Number &quot; + i.str() + &quot;: &quot; + numbers[i]).echo();
    i += 1;
}
</code></pre></div>
<p><strong>Array Methods:</strong>
- <code>array[index]</code> - Access element by index
- <code>array.len()</code> - Get array length
- <code>array.size()</code> - <strong>Not supported</strong> (use <code>.len()</code> instead)
- <code>array.get(index)</code> - <strong>Not supported</strong> (use bracket notation)</p>
<h3 id="list-type-list">List Type (<code>$LIST</code>)</h3>
<p>Lists are created with curly braces and support key-based access:</p>
<div class="highlight"><pre><span></span><code>/* Create lists */
config = {&quot;debug&quot;: true, &quot;port&quot;: 3000, &quot;host&quot;: &quot;localhost&quot;};
user = {&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30, &quot;city&quot;: &quot;NYC&quot;};
nested = {&quot;level1&quot;: {&quot;level2&quot;: &quot;value&quot;}};

/* Access elements */
debug_mode = config[&quot;debug&quot;];    /* true */
user_name = user.name;           /* &quot;John&quot; */
deep_value = nested[&quot;level1&quot;][&quot;level2&quot;];  /* &quot;value&quot; */
length = config.len();           /* 3 */

/* Iterate over lists */
keys = [&quot;debug&quot;, &quot;port&quot;, &quot;host&quot;];
i = 0;
while (i &lt; keys.len()) {
    key = keys[i];
    value = config[key];
    (key + &quot;: &quot; + value.str()).echo();
    i += 1;
}
</code></pre></div>
<p><strong>List Methods:</strong>
- <code>list[key]</code> - Access element by key (preferred)
- <code>list.key</code> - Access element by key (alternative)
- <code>list.len()</code> - Get list length
- <code>list.get(key)</code> - <strong>Not supported</strong> (use bracket notation)
- <code>list.keys()</code> - <strong>Not supported</strong> (iterate manually)</p>
<h3 id="object-type-obj">Object Type (<code>$OBJ</code>)</h3>
<p>Objects are instances of classes and support property access:</p>
<div class="highlight"><pre><span></span><code>/* Define a class */
Person = class {
    name = &quot;&quot;;
    age = 0;

    init = op(n, a) {
        name = n;
        age = a;
    };

    getInfo = op() {
        (&quot;Name: &quot; + name + &quot;, Age: &quot; + age.str()).echo();
    };
};

/* Create object instances */
person1 = obj Person;
person1.init(&quot;Alice&quot;, 25);
person2 = obj Person;
person2.init(&quot;Bob&quot;, 30);

/* Access properties */
name = person1.name;             /* &quot;Alice&quot; */
age = person1[&quot;age&quot;];            /* 25 */
person1.getInfo();               /* Call method */
</code></pre></div>
<p><strong>Object Methods:</strong>
- <code>object.property</code> - Access property (preferred)
- <code>object[key]</code> - Access property (alternative)
- <code>object.method()</code> - Call object methods
- <code>object.get(key)</code> - <strong>Not supported</strong> (use dot notation)</p>
<h3 id="type-comparison-summary">Type Comparison Summary</h3>
<table>
<thead>
<tr>
<th>Feature</th>
<th>$ARRAY</th>
<th>$LIST</th>
<th>$OBJ</th>
</tr>
</thead>
<tbody>
<tr>
<td>Creation</td>
<td><code>[1,2,3]</code></td>
<td><code>{"key":"value"}</code></td>
<td><code>obj Class</code></td>
</tr>
<tr>
<td>Access</td>
<td><code>array[index]</code></td>
<td><code>list[key]</code> or <code>list.key</code></td>
<td><code>object.property</code></td>
</tr>
<tr>
<td>Length</td>
<td><code>array.len()</code></td>
<td><code>list.len()</code></td>
<td>Not available</td>
</tr>
<tr>
<td>Iteration</td>
<td>Index-based</td>
<td>Key-based</td>
<td>Property-based</td>
</tr>
</tbody>
</table>
<h2 id="variable-assignment">Variable Assignment</h2>
<h3 id="basic-assignment">Basic Assignment</h3>
<div class="highlight"><pre><span></span><code>/* Simple variables */
name = &quot;John Doe&quot;;
age = 30;
salary = 75000.50;

/* Incrementing and appending */
v = v + 1;   /* Valid */
v += 1;      /* Idiomatic and preferred */
s = s + &quot;x&quot;;   /* Valid */
s += &quot;x&quot;;      /* Idiomatic and preferred */
</code></pre></div>
<h3 id="namespace-system">Namespace System</h3>
<p>Grapa has a dynamic namespace system that's automatically managed by the execution tree:</p>
<h4 id="global-namespace">Global Namespace</h4>
<p>Use <code>$global</code> for variables that need to persist across function calls:</p>
<div class="highlight"><pre><span></span><code>/* Create global variable */
$global.my_table = $file().table(&quot;ROW&quot;);

/* Use global variable */
my_table.mkfield(&quot;name&quot;, &quot;STR&quot;, &quot;VAR&quot;);
</code></pre></div>
<h4 id="local-namespace">Local Namespace</h4>
<p>Each function execution creates its own namespace automatically:</p>
<div class="highlight"><pre><span></span><code>/* Function with local variables */
func = op(x) {
    local_var = x * 2;  /* This is in the function&#39;s local namespace */
    local_var.echo();
};

func(5);  /* Output: 10 */
</code></pre></div>
<h4 id="namespace-hierarchy">Namespace Hierarchy</h4>
<p>Variables can be accessed from parent namespaces:</p>
<div class="highlight"><pre><span></span><code>/* Global variable */
$global.config = {&quot;debug&quot;: true, &quot;timeout&quot;: 30};

/* Function can access global variables */
func = op() {
    if (config.debug) {
        (&quot;Debug mode enabled&quot;).echo();
    }
    /* Local override */
local_config = {&quot;debug&quot;: false};
    local_config.debug.echo();  /* false */
};

func();
</code></pre></div>
<h4 id="dynamic-namespace-creation">Dynamic Namespace Creation</h4>
<p>Namespaces are created automatically for each execution context:</p>
<div class="highlight"><pre><span></span><code>/* Each block creates a new namespace */
if (condition) {
    block_var = &quot;value&quot;;  /* In block namespace */
} else {
    block_var = &quot;other&quot;;  /* Different block namespace */
}
</code></pre></div>
<h3 id="const-protection">Const Protection</h3>
<p>Grapa provides runtime const protection that prevents variable modification:</p>
<div class="highlight"><pre><span></span><code>/* Create const variable */
config = const {&quot;debug&quot;: true, &quot;port&quot;: 3000};

/* Cannot modify (will error) */
config.port = 8080;  /* Error: cannot modify const */

/* Can toggle const protection */
config.setconst(false);
config.port = 8080;  /* Now works */
config.setconst(true);  /* Make const again */

/* Const arrays */
colors = const [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];
colors += &quot;yellow&quot;;  /* Error: cannot modify const */

/* Performance optimization */
static_config = static {&quot;api_url&quot;: &quot;https://api.example.com&quot;};
</code></pre></div>
<p><strong>Benefits of Grapa's const:</strong>
- <strong>Runtime protection</strong>: Prevents actual modification at runtime
- <strong>Dynamic control</strong>: Can toggle const on/off as needed
- <strong>Performance</strong>: Optimized for caching and concurrent access
- <strong>Thread safety</strong>: Prevents blocking on access for concurrent threads</p>
<h3 id="class-system">Class System</h3>
<p>Grapa provides a full object-oriented programming system with classes, inheritance, and polymorphism:</p>
<h4 id="basic-class-definition">Basic Class Definition</h4>
<div class="highlight"><pre><span></span><code>/* Define a class */
Person = class {
    name = &quot;&quot;;
    age = 0;
    city = &quot;&quot;;

    /* Constructor */
    init = op(n, a, c) {
        name = n;
        age = a;
        city = c;
    };

    /* Method */
    getInfo = op() {
        (&quot;Name: &quot; + name + &quot;, Age: &quot; + age.str() + &quot;, City: &quot; + city).echo();
    };
};

/* Create instance */
person = obj Person;
person.init(&quot;John&quot;, 30, &quot;NYC&quot;);
person.getInfo();
</code></pre></div>
<h4 id="inheritance">Inheritance</h4>
<div class="highlight"><pre><span></span><code>/* Base class */
Animal = class {
    name = &quot;&quot;;
    speak = op() { (&quot;Some sound&quot;).echo(); };
};

/* Derived class */
Dog = class (Animal) {
    breed = &quot;&quot;;
    /* Override method */
speak = op() { (&quot;Woof!&quot;).echo(); };
    fetch = op() { (&quot;Fetching ball&quot;).echo(); };
};

/* Usage */
myDog = obj Dog;
myDog.name = &quot;Buddy&quot;;
myDog.speak();  /* Output: Woof! */
</code></pre></div>
<h4 id="polymorphism">Polymorphism</h4>
<div class="highlight"><pre><span></span><code>/* Different animal types */
animals = [obj Dog, obj Animal];
i = 0;
while (i &lt; animals.len()) {
    animals[i].speak();  /* Calls appropriate method */
    i += 1;
}
</code></pre></div>
<h3 id="inheritance-and-composition">Inheritance and Composition</h3>
<p>Grapa supports full object-oriented programming features:</p>
<ul>
<li><strong>Inheritance</strong>: Use <code>class (ParentClass)</code> to create subclasses</li>
<li><strong>Method overriding</strong>: Subclasses can override parent methods</li>
<li><strong>Method sets</strong>: Classes have sets of methods, similar to Go/Java</li>
<li><strong>Composition</strong>: Classes and objects can include other objects as properties</li>
</ul>
<h4 id="example">Example</h4>
<div class="highlight"><pre><span></span><code>Animal = class {
    speak = op() { &quot;Some sound&quot;.echo(); };
};
Dog = class (Animal) {
    /* Method override */
    speak = op() { &quot;Woof!&quot;.echo(); };
    /* New method */
    fetch = op() { &quot;Fetching...&quot;.echo(); };
};
myDog = obj Dog;
myDog.speak();  /* Outputs: Woof! */
</code></pre></div>
<h2 id="string-operations">String Operations</h2>
<h3 id="string-methods">String Methods</h3>
<div class="highlight"><pre><span></span><code>/* Convert to string */
text = value.str();

/* String concatenation */
full_name = first_name + &quot; &quot; + last_name;

/* String with variables */
message = (&quot;Hello &quot; + name + &quot;, you are &quot; + age.str() + &quot; years old&quot;);
</code></pre></div>
<h3 id="string-concatenation_1">String Concatenation</h3>
<div class="highlight"><pre><span></span><code>/* Both forms are valid, but += is preferred */
message = message + &quot; world&quot;;
message += &quot;!&quot;;
</code></pre></div>
<h3 id="string-literals">String Literals</h3>
<p>Always use double quotes for string literals:</p>
<div class="highlight"><pre><span></span><code>/* ✅ Correct */
name = &quot;John Doe&quot;;
message = &quot;Hello World&quot;;

/* ❌ Incorrect */
name = John Doe;
message = Hello World;
</code></pre></div>
<h2 id="array-and-object-access">Array and Object Access</h2>
<h3 id="array-access">Array Access</h3>
<p>Arrays (<code>$ARRAY</code>) support only bracket notation:</p>
<div class="highlight"><pre><span></span><code>arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];
value = arr[1];        /* Returns &quot;b&quot; */
</code></pre></div>
<ul>
<li>Use bracket notation for <code>$ARRAY</code>.</li>
<li><code>.get()</code> is not supported for <code>$ARRAY</code>.</li>
</ul>
<h3 id="array-concatenation">Array Concatenation</h3>
<p>Use the <code>+=</code> operator to concatenate arrays:</p>
<div class="highlight"><pre><span></span><code>arr1 = [&quot;a&quot;, &quot;b&quot;];
arr2 = [&quot;c&quot;, &quot;d&quot;];
arr1 += arr2;          /* arr1 is now [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;] */
</code></pre></div>
<ul>
<li>The <code>+=</code> operator appends all elements from the right array to the left array.</li>
<li>This is simpler than using <code>.reduce()</code> or other functional methods.</li>
<li>No spread operator (<code>...</code>) is needed or supported.</li>
</ul>
<h3 id="array-slicing-with-range">Array Slicing with .range()</h3>
<p>Use <code>.range()</code> for array slicing operations:</p>
<div class="highlight"><pre><span></span><code>arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;];

/* Get elements from index 1 to end */
slice1 = arr.range(1, arr.len());  /* [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;] */

/* Get first 3 elements */
slice2 = arr.range(0, 3);  /* [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] */

/* Get elements from index 1 to 3 */
slice3 = arr.range(1, 3);  /* [&quot;b&quot;, &quot;c&quot;] */
</code></pre></div>
<ul>
<li>Use <code>.range(start, end)</code> for array slicing</li>
<li>This replaces slice notation like <code>arr[1:]</code>, <code>arr[:3]</code>, <code>arr[1:3]</code></li>
</ul>
<h3 id="array-methods">Array Methods</h3>
<p>Grapa provides several useful array methods:</p>
<div class="highlight"><pre><span></span><code>/* Basic array operations */
arr = [3, 1, 4, 1, 5, 9, 2, 6];

/* Sort array */
sorted_arr = arr.sort();  /* [1, 1, 2, 3, 4, 5, 6, 9] */

/* Get array length */
length = arr.len();  /* 8 */

/* Join array elements into string */
words = [&quot;hello&quot;, &quot;world&quot;, &quot;test&quot;];
sentence = words.join(&quot; &quot;);  /* &quot;hello world test&quot; */

/* Split string into array */
text = &quot;hello,world,test&quot;;
parts = text.split(&quot;,&quot;);  /* [&quot;hello&quot;, &quot;world&quot;, &quot;test&quot;] */
</code></pre></div>
<p><strong>Important Notes:</strong>
- Use <code>.sort()</code> for deterministic test output when order is not guaranteed
- <code>.len()</code> returns the number of elements in an array
- <code>.join(delimiter)</code> combines array elements with the specified delimiter
- <code>.split(delimiter)</code> splits a string into an array using the delimiter</p>
<h3 id="listobject-access">List/Object Access</h3>
<p>Lists (<code>$LIST</code>) and objects (<code>$OBJ</code>) support bracket and dot notation:</p>
<div class="highlight"><pre><span></span><code>obj = {&quot;a&quot;: 11, &quot;b&quot;: 22, &quot;c&quot;: 33};
value = obj[&quot;b&quot;];          /* Returns 22 (key access) */
value = obj.key;            /* Returns value for key &#39;key&#39; if present */
value = obj.&quot;b&quot;;           /* Returns 22 (key access) */

/* $LIST supports both key and index access: */
value = obj[1];             /* Returns 22 (index access) */
value = obj[&quot;a&quot;];           /* Returns 11 (key access) */
value = obj.a;              /* Returns 11 (dot notation key access) */
name = obj.getname(1);      /* Returns &quot;b&quot; (key name) */
</code></pre></div>
<ul>
<li>Use bracket and dot notation for <code>$LIST</code> and <code>$OBJ</code>.</li>
<li>$LIST supports both key access (obj["key"], obj.key) and index access (obj[2]).</li>
<li><code>.get()</code> is not supported for <code>$LIST</code> or <code>$OBJ</code>.</li>
</ul>
<h3 id="file-and-table-access">$file and $TABLE Access</h3>
<p>For <code>$file</code> and <code>$TABLE</code> objects, always use <code>.get()</code> method:</p>
<div class="highlight"><pre><span></span><code>files = $file().ls();
file_info = files.get(0);   /* Correct */

table = $file().table(&quot;ROW&quot;);
table.mkfield(&quot;name&quot;, &quot;STR&quot;, &quot;VAR&quot;);
table.set(&quot;user1&quot;, &quot;Alice&quot;, &quot;name&quot;);
value = table.get(&quot;user1&quot;, &quot;name&quot;);   /* Correct */
</code></pre></div>
<ul>
<li>Always use <code>.get()</code> for <code>$file</code> and <code>$TABLE</code>.</li>
<li>Bracket and dot notation are not valid for <code>$file</code> and <code>$TABLE</code>.</li>
</ul>
<h3 id="type-system-philosophy">Type System Philosophy</h3>
<p>Grapa uses <strong>dynamic typing</strong> as a fundamental design choice, not a limitation. This enables Grapa's core strengths:</p>
<h3 id="dynamic-type-system-benefits">Dynamic Type System Benefits</h3>
<ul>
<li><strong>Runtime flexibility</strong>: Types are determined at execution time</li>
<li><strong>Dynamic code execution</strong>: Enables meta-programming and code generation</li>
<li><strong>System integration</strong>: Works with data of unknown types</li>
<li><strong>Data processing</strong>: Ideal for ETL and analysis tasks</li>
</ul>
<h3 id="type-safety-through-runtime-checking">Type Safety Through Runtime Checking</h3>
<p>Grapa provides robust type safety through runtime checking and introspection:</p>
<div class="highlight"><pre><span></span><code>/* Check object types */
element = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];
element.type();        /* Returns $ARRAY */

obj = {&quot;a&quot;: 11, &quot;b&quot;: 22, &quot;c&quot;: 33};
obj.type();            /* Returns $LIST */

table = $file().table(&quot;ROW&quot;);
table.type();          /* Returns $TABLE */

/* Runtime type checking */
if (value.type() == $INT) {
    (&quot;Value is an integer&quot;).echo();
} else if (value.type() == $STR) {
    (&quot;Value is a string&quot;).echo();
}
</code></pre></div>
<h3 id="type-conversion">Type Conversion</h3>
<p>Grapa provides explicit type conversion methods:</p>
<div class="highlight"><pre><span></span><code>/* String conversion */
value = 42;
text = value.str();    /* Convert to string */

/* Numeric conversion */
text = &quot;123&quot;;
number = text.int();   /* Convert to integer */
decimal = text.float(); /* Convert to float */

/* Type checking before conversion */
if (input.type() == $STR) {
    result = input.int();
} else {
    result = input;    /* Already numeric */
}
</code></pre></div>
<h2 id="function-calls">Function Calls</h2>
<h3 id="method-calls">Method Calls</h3>
<div class="highlight"><pre><span></span><code>/* File operations */
fs.set(&quot;file.txt&quot;, &quot;content&quot;);
content = fs.get(&quot;file.txt&quot;).str();

/* Table operations */
table.mkfield(&quot;name&quot;, &quot;STR&quot;, &quot;VAR&quot;);
table.set(&quot;key&quot;, &quot;value&quot;, &quot;field&quot;);
value = table.get(&quot;key&quot;, &quot;field&quot;).str();
</code></pre></div>
<h3 id="function-definitions-with-default-parameters">Function Definitions with Default Parameters</h3>
<div class="highlight"><pre><span></span><code>/* Function with default parameters */
f = op(&quot;x&quot;=1, &quot;y&quot;=0) { x + y; };

/* Call with all parameters */
result1 = f(5, 3);  /* 8 */

/* Call with default for y */
result2 = f(5);     /* 6 (y defaults to 0) */

/* Call with defaults for both */
result3 = f();      /* 1 (x defaults to 1, y defaults to 0) */
</code></pre></div>
<ul>
<li>Use <code>op("param"=default_value)</code> for default parameters</li>
<li>Parameters with defaults can be omitted when calling</li>
<li>Parameters without defaults must be provided</li>
</ul>
<h3 id="system-functions">System Functions</h3>
<div class="highlight"><pre><span></span><code>/* Time functions */
current_time = $TIME().utc();

/* File functions */
file_obj = $file();
table_obj = $file().table(&quot;ROW&quot;);
</code></pre></div>
<h2 id="comments">Comments</h2>
<p>Grapa only supports block comments (<code>/* ... */</code>). Line comments (<code>// ...</code>) are not supported.</p>
<h3 id="comment-rules">Comment Rules</h3>
<h4 id="outside-code-blocks">Outside Code Blocks</h4>
<p>Comments can be placed at the end of lines when not inside <code>{}</code> blocks:</p>
<div class="highlight"><pre><span></span><code>/* This is a block comment */
x = 5;  /* This works outside {} blocks */
y = 10; /* This also works */
</code></pre></div>
<h4 id="inside-code-blocks">Inside Code Blocks (<code>{}</code>)</h4>
<p>When inside <code>{}</code> blocks, comments <strong>must</strong> be on their own line:</p>
<div class="highlight"><pre><span></span><code>/* ✅ Correct: Comments on their own line */
if (condition) {
    /* This comment is correct */
    x = 5;
    /* Another correct comment */
    y = 10;
}

/* ❌ Incorrect: Comments at end of lines in {} blocks */
if (condition) {
    x = 5;  /* This will cause a syntax error */
    y = 10; /* This will also cause a syntax error */
}
</code></pre></div>
<h4 id="class-and-function-definitions">Class and Function Definitions</h4>
<p>The same rule applies to class and function definitions:</p>
<div class="highlight"><pre><span></span><code>/* ✅ Correct */
MyClass = class {
    /* Method definition */
    myMethod = op() {
        /* Method body */
        &quot;Hello&quot;.echo();
    };
};

/* ❌ Incorrect */
MyClass = class {
    myMethod = op() {
        &quot;Hello&quot;.echo();  /* This will cause a syntax error */
    };
};
</code></pre></div>
<h2 id="control-structures">Control Structures</h2>
<h3 id="if-statements">If Statements</h3>
<div class="highlight"><pre><span></span><code>if (condition) {
    (&quot;Condition is true&quot;).echo();
} else {
    (&quot;Condition is false&quot;).echo();
}

/* Example with comparison */
if (age &gt;= 18) {
    (&quot;User is an adult&quot;).echo();
} else {
    (&quot;User is a minor&quot;).echo();
}
</code></pre></div>
<h3 id="comparison-operators">Comparison Operators</h3>
<div class="highlight"><pre><span></span><code>/* Equality */
if (name == &quot;John&quot;) { }

/* Inequality */
if (age != 0) { }

/* Greater/Less than */
if (salary &gt; 50000) { }
if (age &lt; 18) { }

/* Greater/Less than or equal */
if (count &gt;= 10) { }
if (value &lt;= 100) { }
</code></pre></div>
<h3 id="switch-statements">Switch Statements</h3>
<p>Grapa provides switch statements for multiple condition checking:</p>
<h4 id="type-switching">Type Switching</h4>
<div class="highlight"><pre><span></span><code>/* Switch based on type */
switch (value.type()) {
    case $STR: &quot;String value&quot;.echo();
    case $INT: &quot;Integer value&quot;.echo();
    case $ARRAY: &quot;Array value&quot;.echo();
    case $LIST: &quot;List value&quot;.echo();
    default: &quot;Unknown type&quot;.echo();
};
</code></pre></div>
<h4 id="value-switching">Value Switching</h4>
<div class="highlight"><pre><span></span><code>/* Switch based on value */
switch (status) {
    case &quot;active&quot;: &quot;User is active&quot;.echo();
    case &quot;inactive&quot;: &quot;User is inactive&quot;.echo();
    case &quot;pending&quot;: &quot;User is pending&quot;.echo();
    default: &quot;Unknown status&quot;.echo();
};
</code></pre></div>
<h4 id="boolean-switching">Boolean Switching</h4>
<div class="highlight"><pre><span></span><code>/* Switch based on boolean conditions */
switch(true) {
    case (score &gt;= 90): &quot;Grade: A&quot;.echo();
    case (score &gt;= 80): &quot;Grade: B&quot;.echo();
    case (score &gt;= 70): &quot;Grade: C&quot;.echo();
    case (score &gt;= 60): &quot;Grade: D&quot;.echo();
    default: &quot;Grade: F&quot;.echo();
};
</code></pre></div>
<h4 id="switch-with-complex-conditions">Switch with Complex Conditions</h4>
<div class="highlight"><pre><span></span><code>/* Switch with complex expressions */
switch(true) {
    case (age &lt; 18 &amp;&amp; income &lt; 30000): &quot;Young and low income&quot;.echo();
    case (age &gt;= 65): &quot;Senior citizen&quot;.echo();
    case (income &gt; 100000): &quot;High income&quot;.echo();
    default: &quot;Standard category&quot;.echo();
};
</code></pre></div>
<h2 id="unsupported-syntax-operators">Unsupported Syntax Operators</h2>
<p>Grapa does not support several modern JavaScript/TypeScript operators. Use explicit alternatives:</p>
<h3 id="logical-assignment-operators">Logical Assignment Operators</h3>
<div class="highlight"><pre><span></span><code>/* ❌ Not supported */
x ||= y;    /* Logical OR assignment */
x &amp;&amp;= y;    /* Logical AND assignment */

/* ✅ Use explicit assignment */
/* For ||= */
if (!x) { x = y; }
/* For &amp;&amp;= */
if (x) { x = y; }
</code></pre></div>
<h3 id="nullish-coalescing">Nullish Coalescing</h3>
<div class="highlight"><pre><span></span><code>/* ❌ Not supported */
x ?? y;     /* Nullish coalescing */

/* ✅ Use explicit null check */
if (x == null) { x = y; }
</code></pre></div>
<h3 id="optional-chaining">Optional Chaining</h3>
<div class="highlight"><pre><span></span><code>/* ❌ Not supported */
obj?.prop?.sub;    /* Optional chaining */

/* ✅ Use explicit null checks */
if (obj &amp;&amp; obj.prop) { obj.prop.sub; }
</code></pre></div>
<h3 id="spread-operator">Spread Operator</h3>
<div class="highlight"><pre><span></span><code>/* ❌ Not supported */
[...arr1, ...arr2];    /* Spread operator */

/* ✅ Use += operator for arrays */
arr1 += arr2;          /* Array concatenation */
</code></pre></div>
<h3 id="walrus-operator-python">Walrus Operator (Python)</h3>
<div class="highlight"><pre><span></span><code>/* ❌ Not supported in Python */
if (x := f()) &gt; 0:     /* Walrus operator */

/* ✅ Use separate assignment */
x = f();
if (x &gt; 0) { ... }
</code></pre></div>
<h2 id="error-handling">Error Handling</h2>
<h3 id="type-checking">Type Checking</h3>
<div class="highlight"><pre><span></span><code>/* Check if result is an error */
if (result.type() == $ERR) {
    (&quot;Operation failed&quot;).echo();
} else {
    (&quot;Operation succeeded&quot;).echo();
}

/* Check for specific error responses */
if (result == {&quot;error&quot;:-1}) {
    (&quot;Operation returned error -1&quot;).echo();
}
</code></pre></div>
<h3 id="error-fallback-with-iferr">Error Fallback with .iferr()</h3>
<p>Grapa provides a built-in error fallback mechanism using <code>.iferr()</code>:</p>
<div class="highlight"><pre><span></span><code>/* Simple error fallback */
result = risky_operation().iferr(0);  /* Returns 0 if operation fails */

/* Error fallback with default value */
value = (10/0).iferr(55);  /* Returns 55 since division by zero fails */

/* Array access with fallback */
months = [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;];
value = months[&quot;FFF&quot;].iferr(-1);  /* Returns -1 for invalid key */
</code></pre></div>
<ul>
<li>Use <code>.iferr(fallback_value)</code> for simple error handling</li>
<li>Use <code>if (result.type() == $ERR)</code> for explicit error handling</li>
<li><code>.iferr()</code> is preferred for simple fallback scenarios</li>
</ul>
<h2 id="complete-example">Complete Example</h2>
<div class="highlight"><pre><span></span><code>/* User Management System Example */

/* Create table in global namespace */
$global.users = $file().table(&quot;ROW&quot;);

/* Define table schema */
users.mkfield(&quot;name&quot;, &quot;STR&quot;, &quot;VAR&quot;);
users.mkfield(&quot;age&quot;, &quot;INT&quot;);
users.mkfield(&quot;salary&quot;, &quot;FLOAT&quot;, &quot;FIX&quot;, 8);

/* Add user data */
users.set(&quot;user1&quot;, &quot;John Doe&quot;, &quot;name&quot;);
users.set(&quot;user1&quot;, 30, &quot;age&quot;);
users.set(&quot;user1&quot;, 75000.50, &quot;salary&quot;);

/* Retrieve and display user data */
name = users.get(&quot;user1&quot;, &quot;name&quot;).str();
age = users.get(&quot;user1&quot;, &quot;age&quot;).int();
salary = users.get(&quot;user1&quot;, &quot;salary&quot;).float();

(&quot;User: &quot; + name + &quot;, Age: &quot; + age.str() + &quot;, Salary: &quot; + salary.str()).echo();

/* Process multiple users */
i = 1;
while (i &lt;= 5) {
    user_id = &quot;user&quot; + i.str();
    users.set(user_id, (&quot;User &quot; + i.str()), &quot;name&quot;);
    users.set(user_id, (20 + i), &quot;age&quot;);
    i = i + 1;
}

(&quot;Created &quot; + i.str() + &quot; users&quot;).echo();
</code></pre></div>
<h2 id="common-patterns">Common Patterns</h2>
<h3 id="file-operations">File Operations</h3>
<div class="highlight"><pre><span></span><code>/* File system operations */
$global.fs = $file();

/* Create and write file */
fs.set(&quot;test.txt&quot;, &quot;Hello World&quot;);
content = fs.get(&quot;test.txt&quot;).str();
(&quot;File content: &quot; + content).echo();

/* Directory operations */
fs.mk(&quot;test_dir&quot;);
fs.cd(&quot;test_dir&quot;);
files = fs.ls();
fs.cd(&quot;..&quot;);
fs.rm(&quot;test_dir&quot;);
</code></pre></div>
<h3 id="table-operations">Table Operations</h3>
<div class="highlight"><pre><span></span><code>/* Table operations */
$global.table = $file().table(&quot;ROW&quot;);

/* Create fields */
table.mkfield(&quot;name&quot;, &quot;STR&quot;, &quot;VAR&quot;);
table.mkfield(&quot;age&quot;, &quot;INT&quot;);
table.mkfield(&quot;value&quot;, &quot;FLOAT&quot;, &quot;FIX&quot;, 8);

/* Add data */
table.set(&quot;key1&quot;, &quot;John&quot;, &quot;name&quot;);
table.set(&quot;key1&quot;, 30, &quot;age&quot;);
table.set(&quot;key1&quot;, 100.5, &quot;value&quot;);

/* Retrieve data */
name = table.get(&quot;key1&quot;, &quot;name&quot;).str();
age = table.get(&quot;key1&quot;, &quot;age&quot;).int();
value = table.get(&quot;key1&quot;, &quot;value&quot;).float();
</code></pre></div>
<p>This guide covers the essential syntax patterns for writing correct Grapa code. Follow these patterns to avoid common syntax errors and write maintainable code. </p>
<p>/*</p>
<h1 id="grapa-basic-syntax-key-rules">Grapa Basic Syntax: Key Rules</h1>
<h2 id="statement-and-block-termination">Statement and Block Termination</h2>
<ul>
<li>Every statement must end with a semicolon (<code>;</code>), including after the closing brace of every block (such as <code>if</code>, <code>else</code>, <code>while</code>, and function blocks).</li>
<li>Example:
  while (cond) {
      ...
  };
  if (cond) {
      ...
  } else {
      ...
  };</li>
</ul>
<h2 id="array-manipulation">Array Manipulation</h2>
<ul>
<li>To append to an array, use the <code>+=</code> operator.</li>
<li>Example:
    arr = [];
    arr += "foo";
    arr += "bar";
    /<em> arr is now ["foo", "bar"] </em>/</li>
<li>Do not use <code>.push()</code> or <code>.append()</code>—these are not valid in Grapa.</li>
</ul>
<h2 id="array-iteration-and-sorting">Array Iteration and Sorting</h2>
<ul>
<li>The <code>.sort()</code> function is especially useful in tests to ensure deterministic output when order is not guaranteed.</li>
<li>Example:
  result = input.grep(pattern, options);
  result = result.sort();
  (result.join("\n")).echo();
*/ </li>
</ul>
<p>/*</p>
<h1 id="grapa-syntax-quick-reference">Grapa Syntax Quick Reference</h1>
<h2 id="essential-syntax-rules-summary-table">Essential Syntax Rules (Summary Table)</h2>
<table>
<thead>
<tr>
<th>Rule</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Every statement ends with a semicolon (<code>;</code>)</td>
<td><code>x = 5;</code></td>
</tr>
<tr>
<td>Every block (after <code>}</code>) ends with a semicolon</td>
<td><code>if (x) { ... };</code></td>
</tr>
<tr>
<td>Use block comments only</td>
<td><code>/* comment */</code></td>
</tr>
<tr>
<td>Do not use line comments (<code>// ...</code>)</td>
<td></td>
</tr>
<tr>
<td>Within <code>{}</code> blocks, comments must be on their own line</td>
<td><code>{ /* comment */ x = 5; }</code></td>
</tr>
<tr>
<td>Do not put comments at the end of lines in <code>{}</code> blocks</td>
<td><code>{ x = 5; /* wrong */ }</code></td>
</tr>
<tr>
<td>Append to arrays with <code>+=</code></td>
<td><code>arr += "foo";</code></td>
</tr>
<tr>
<td>No <code>.push()</code> or <code>.append()</code></td>
<td></td>
</tr>
<tr>
<td>Access arrays/lists with <code>[index]</code></td>
<td><code>arr[0];</code></td>
</tr>
<tr>
<td>Access object properties with <code>.get("key")</code></td>
<td><code>obj.get("foo");</code></td>
</tr>
<tr>
<td>Use <code>.echo()</code> for output</td>
<td><code>"Hello".echo();</code></td>
</tr>
<tr>
<td>Use <code>while</code> loops, not <code>for</code></td>
<td><code>while (cond) { ... };</code></td>
</tr>
<tr>
<td>Wrap string concatenations in parentheses</td>
<td><code>(str1 + str2).echo();</code></td>
</tr>
<tr>
<td>Increment or append with +=</td>
<td><code>v += 1;</code>, <code>s += "x";</code></td>
</tr>
<tr>
<td>Both = x + y and += y are valid</td>
<td><code>v = v + 1;</code>, <code>v += 1;</code></td>
</tr>
<tr>
<td>No logical assignment (<code>||=</code>, <code>&amp;&amp;=</code>)</td>
<td>Use explicit <code>if</code> statements</td>
</tr>
<tr>
<td>No nullish coalescing (<code>??</code>)</td>
<td>Use explicit null checks</td>
</tr>
<tr>
<td>No optional chaining (<code>?.</code>)</td>
<td>Use explicit null checks</td>
</tr>
<tr>
<td>No spread operator (<code>...</code>)</td>
<td>Use <code>+=</code> for arrays</td>
</tr>
</tbody>
</table>
<hr />
<p>*/ </p>
<p>/*</p>
<h1 id="lexical-operators-special-parsing-triggers">Lexical Operators (Special Parsing Triggers)</h1>
<p>There are several predefined lexical operators, most of which define how $ID, $INT, $FLOAT, $STR, etc, are processed and generate the corresponding tokens. There are also a few other lexical operators that will trigger special handling of the input stream. The following are two examples. Currently there is no way to define/change the lexical operators - this will come in some future version of Grapa.</p>
<h2 id="_1"><code>$&amp;</code></h2>
<ul>
<li>Wrap the XML data in $&amp; on either side to have Grapa parse the input as XML. These characters are special lexical triggers that modify the parsing engine token generation. The first instance turns the mode on and the second turns the mode off. Or use the encode("XML") function, which does the same thing.</li>
</ul>
<h2 id="_2"><code>$[</code></h2>
<ul>
<li>Wrap input in these characters to have the entire code block parsed in a single instance. Otherwise a '\n' or '\r' will be used to trigger parsing/execution and an error would result if the line is not valid on its own. Alternatively, put the code in a file, load the file contents, and execute the contents of the string.
*/ </li>
</ul>
<p>/*</p>
<h1 id="default-grammar-rules">Default Grammar Rules</h1>
<p>View a text version of the grammar rules loaded into Grapa on startup here:
Grapa Grammar</p>
<p>The system will first check for a match on the "start" rule, which is a global variable. If that global variable is of type $RULE, then it will become the first rule for scripts. This is an easy way to provide an override on command processing. If the "start" rule does not provide a match, then the system will evaluate using the "$start" rule.</p>
<p>The default rules may be subject to change.</p>
<p>If you modify the file, you can try it out by placing it in "lib/grapa/" under the same directory that the above command would have written the file to, and then restart Grapa. If Grapa finds this file with this name in that location, it will use that file instead of the default.</p>
<p>If you are familiar with YACC or BNF, following the grammar logic should be rather straightforward. Each rule is evaluated until a successful match, and all matches produce an execution plan where the code associated with each rule match is included in the execution plan. To optimize grammar resolution, rules are carefully constructed to avoid re-evaluating rules more than necessary by placing the most complex rules first and following with common rule patterns. It is also important to avoid infinite recursive situations—mostly this is avoided by not referencing the same rule as the first token to evaluate.</p>
<p>There are a few standard tokens that are defined—mostly the tokens provide special handling for either the lexical engine or the rules engine. One example is the space character, which when found sets a bit in the token to skip the value for rules evaluation. This can be changed—but then would require including the space token in the rules.
*/ </p>
<p>/*</p>
<h1 id="function-chaining">Function Chaining</h1>
<p>Any object that returns an object can be chained.</p>
<p>For example, "4.4".float(300,4).pi() will convert the string 4.4 to a float with 300 bit precision and will return pi() to the power of the input, at the precision specified in the input. So, a 400 bit precision of pi to the power of 4.4.</p>
<p>If an existing function/command doesn't support chaining, an OP can be inserted in the chain to make it work using the $$ variable for the result of the prior operation. For example, the following will get the length of a list, generate that many bits, and output the result in binary form. The 3 examples all accomplish the same result.
<div class="highlight"><pre><span></span><code>&gt; {1,2,3,5}.{(@$$).len()}.genbits().bin();
1111

&gt; {1,2,3,5}.{(op(a){a.len()})(@$$)}.genbits().bin();
1111

&gt; f = op(a){a.len()};
&gt; {1,2,3,5}.{f(@$$)}.genbits().bin();
1111
</code></pre></div>
*/ </p>
<p>/*</p>
<h1 id="dynamic-code-execution-grapas-core-meta-programming-capability">Dynamic Code Execution (Grapa's Core Meta-Programming Capability)</h1>
<p>Grapa's most powerful feature is its ability to compile and execute code at runtime. Unlike most languages, Grapa provides <strong>superior</strong> dynamic code execution capabilities through execution trees that are both human-readable and directly executable.</p>
<h2 id="using-syseval-for-immediate-evaluation">Using <code>$sys().eval()</code> for Immediate Evaluation</h2>
<ul>
<li>Evaluates a string as Grapa code immediately</li>
<li>Optionally accepts a parameter map for dynamic execution</li>
<li>Perfect for one-off evaluations and user input processing</li>
</ul>
<div class="highlight"><pre><span></span><code>/* Simple evaluation */
result = $sys().eval(&quot;5*3&quot;); // result: 15

/* Evaluation with parameters */
result = $sys().eval(&quot;x + y&quot;, {&quot;x&quot;: 2, &quot;y&quot;: 4}); // result: 6

/* Complex expressions */
result = $sys().eval(&quot;(a + b) * c&quot;, {&quot;a&quot;: 2, &quot;b&quot;: 3, &quot;c&quot;: 4}); // result: 20

/* User input processing */
user_input = &quot;2 * (3 + 4)&quot;;
result = $sys().eval(user_input); // result: 14
</code></pre></div>
<h2 id="using-op-for-compiled-operations">Using <code>op()</code> for Compiled Operations</h2>
<ul>
<li><code>op()(&lt;string&gt;)</code> parses the string into a $OP object (compiled execution tree)</li>
<li>Creates reusable, optimized functions that can be executed multiple times</li>
<li>Supports both positional and named parameters</li>
<li>Enables advanced meta-programming patterns</li>
</ul>
<div class="highlight"><pre><span></span><code>/* Basic compilation */
op_obj = op()(&quot;a + b&quot;);
result = op_obj({&quot;a&quot;: 10, &quot;b&quot;: 20}); // result: 30

/* One-line execution */
result = op()(&quot;5*3&quot;)(); // result: 15

/* With parameters */
func = op(&quot;name&quot;=0)(&quot;&#39;Hello, &#39; + name + &#39;!&#39;.echo();&quot;);
func(&quot;Grapa&quot;); // Output: Hello, Grapa!

/* Dynamic function generation */
operations = [&quot;add&quot;, &quot;sub&quot;, &quot;mul&quot;];
funcs = {};
i = 0;
while (i &lt; operations.len()) {
    op_name = operations.get(i);
    code = &quot;a &quot; + op_name + &quot; b&quot;;
    funcs[op_name] = op(&quot;a&quot;=0, &quot;b&quot;=0)(code);
    i += 1;
}

/* Execute generated functions */
funcs[&quot;add&quot;](5, 3).echo();  // 8
funcs[&quot;mul&quot;](5, 3).echo();  // 15
</code></pre></div>
<h2 id="using-syscompile-for-performance">Using <code>$sys().compile()</code> for Performance</h2>
<ul>
<li>Pre-compiles scripts for maximum performance</li>
<li>Creates $OP objects that can be executed with <code>$sys().eval()</code></li>
<li>Ideal for frequently executed code</li>
</ul>
<div class="highlight"><pre><span></span><code>/* Compile once, execute many times */
compiled = $sys().compile(&quot;input * 2 + offset&quot;);

/* Execute with different parameters */
result1 = $sys().eval(compiled, {&quot;input&quot;: 10, &quot;offset&quot;: 5}); // 25
result2 = $sys().eval(compiled, {&quot;input&quot;: 20, &quot;offset&quot;: 10}); // 50
</code></pre></div>
<h2 id="advanced-meta-programming-patterns">Advanced Meta-Programming Patterns</h2>
<h3 id="template-based-code-generation">Template-Based Code Generation</h3>
<div class="highlight"><pre><span></span><code>/* Create reusable templates */
template = &quot;result = base * multiplier + offset; result&quot;;
process = op(&quot;base&quot;=0, &quot;multiplier&quot;=1, &quot;offset&quot;=0)(template);
process(10, 2, 5).echo(); // 25
</code></pre></div>
<h3 id="configuration-driven-functions">Configuration-Driven Functions</h3>
<div class="highlight"><pre><span></span><code>/* Generate functions from configuration */
config = {&quot;operation&quot;: &quot;add&quot;, &quot;default&quot;: 0};
code = &quot;a &quot; + config.operation + &quot; b&quot;;
func = op(&quot;a&quot;=config.default, &quot;b&quot;=config.default)(code);
func(5, 3).echo(); // 8
</code></pre></div>
<h2 id="when-to-use-each-method">When to Use Each Method</h2>
<ul>
<li><strong><code>$sys().eval()</code></strong>: One-off evaluation, user input processing, simple expressions</li>
<li><strong><code>op()</code></strong>: Reusable functions, meta-programming, dynamic code generation</li>
<li><strong><code>$sys().compile()</code></strong>: Performance-critical code, frequently executed operations</li>
</ul>
<h2 id="why-grapas-dynamic-execution-is-superior">Why Grapa's Dynamic Execution is Superior</h2>
<ol>
<li><strong>Human-readable execution trees</strong>: Unlike bytecode, $OP objects can be examined and understood</li>
<li><strong>Direct manipulation</strong>: Execution trees can be created, modified, and executed directly</li>
<li><strong>Compile-time optimization</strong>: Constant folding and expression simplification</li>
<li><strong>Parameter binding</strong>: Both positional and named parameters with default values</li>
<li><strong>Type safety</strong>: Execution trees maintain type information</li>
<li><strong>Performance</strong>: Compiled execution trees are highly optimized</li>
</ol>
<p>See also: <a href="../../grc_scripts/">Advanced Scripting</a>, <a href="../../type/OP/">$OP Type</a>, <a href="../../sys/sys/">System Functions</a>
*/ </p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit", "content.action.view", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>